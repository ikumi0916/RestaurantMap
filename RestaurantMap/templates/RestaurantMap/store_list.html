{% extends 'RestaurantMap/base.html' %}
{% load static %}
{% block headExtrajs %}
<script src="http://maps.google.com/maps/api/js?key={{api_key}}&language=ja"></script>
<script>
  // Mapのスタイル
  var styleOptions = [
      {
        featureType: "all",
        elementType: "geometry",

        //スタイルを指定
        stylers: [
          //hue:基本色
          { hue: "#00ffff" },

          //lightness:明度 -100~100
          { lightness: 0 },

          //saturation:彩度 -100~100
          { saturation: 40 },

          //gamma: ガンマ補正の量 コントラストを変更する 0.01~10 通常は1.0
          { gamma: 1.5 },

          //invert_lightness:明度の反転 true/false
          { invert_lightness: false },

          //visibility:要素の表示のon/off
          //	on:表示する（デフォルト）
          //	off:表示しない
          //	simplified:ラベルのアウトラインのみ削除
          { visibility: "simplified" },

          //color:地物周辺の色 設定しないほうが良い
          //weight:地物周辺の厚み 0~255 設定しないほうが良い
        ]
      },
      //地図のスタイルを複数指定したい場合は以下に設定
      {
        featureType: "poi",
        elementType: "geometry",
        stylers: [
          { hue: "#ffb400" },
          { lightness: 0 },
          { saturation: 100 },
          { gamma: 1.2 },
          { invert_lightness: false },
          { visibility: "on" },
        ]
      },
      {
        featureType: "transit",
        elementType: "geometry",
        stylers: [
          { hue: "#ffb400" },
          { lightness: 0 },
          { saturation: 100 },
          { gamma: 1.0 },
          { invert_lightness: false },
          { visibility: "on" },
        ]
      },
    ];
</script>
{% endblock %}

{% block content %}
{% for store in store_list %}
  <div class="card mb-12">
    <h2 class="card-header bg-dark text-white mb-12">{{ store.name }}</h2>
    <div class="card-body mb-12">
      <div class="row">
        <div class="col-md-6">
          <p>住所：{{ store.address }}</p>
          <p>営業時間：{{ store.open_time }}</p>
          <p>TEL：{{ store.tel }}</p>
          <p>Id：{{ store.hotPepper_id }}</p>
        </div>
        <div class="col-md-6" id="map_{{ store.hotPepper_id }}">
        </div>
      </div>
      <!-- <a href="{% url 'blog:detail' store.pk %}" class="btn btn-dark">続きを読む</a> -->
    </div>
    
    <script>
      // Mapの座標
      var MyLatLng = new google.maps.LatLng({{ store.latitude }}, {{ store.longitude }});
      var Options = {
       zoom: 15,      // 地図の縮尺値
       center: MyLatLng,    // 地図の中心座標
       styles: styleOptions, // headExtraJsで設定
       mapTypeId: 'roadmap'   // 地図の種類
      };
      var map = new google.maps.Map(document.getElementById('map_{{ store.hotPepper_id }}'), Options);
    </script>
  </div>
{% endfor %}

{% include 'RestaurantMap/page.html' %}

{% endblock %}
